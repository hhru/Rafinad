{"sections":[],"schemaVersion":{"major":0,"minor":3,"patch":0},"metadata":{"title":"ScreenAccessibility","role":"symbol","roleHeading":"Class","fragments":[{"text":"class","kind":"keyword"},{"text":" ","kind":"text"},{"text":"ScreenAccessibility","kind":"identifier"}],"symbolKind":"class","modules":[{"name":"Rafinad"}],"navigatorTitle":[{"text":"ScreenAccessibility","kind":"identifier"}],"externalID":"s:7Rafinad19ScreenAccessibilityC"},"kind":"symbol","identifier":{"url":"doc:\/\/ru.hh.Rafinad\/documentation\/Rafinad\/ScreenAccessibility","interfaceLanguage":"swift"},"hierarchy":{"paths":[["doc:\/\/ru.hh.Rafinad\/documentation\/Rafinad"]]},"abstract":[{"type":"text","text":"Accessibility-схема экрана."}],"topicSections":[{"anchor":"Initializers","title":"Initializers","identifiers":["doc:\/\/ru.hh.Rafinad\/documentation\/Rafinad\/ScreenAccessibility\/init()"],"generated":true}],"seeAlsoSections":[{"anchor":"Related-Documentation","title":"Related Documentation","identifiers":["doc:\/\/ru.hh.Rafinad\/documentation\/Rafinad\/ViewAccessibility","doc:\/\/ru.hh.Rafinad\/documentation\/Rafinad\/AccessibilityKey","doc:\/\/ru.hh.Rafinad\/documentation\/Rafinad\/TestingElement"]},{"anchor":"Rafinad","title":"Rafinad","identifiers":["doc:\/\/ru.hh.Rafinad\/documentation\/Rafinad\/ViewAccessibility","doc:\/\/ru.hh.Rafinad\/documentation\/Rafinad\/TextAccessibility","doc:\/\/ru.hh.Rafinad\/documentation\/Rafinad\/ImageAccessibility","doc:\/\/ru.hh.Rafinad\/documentation\/Rafinad\/AnyAccessibility","doc:\/\/ru.hh.Rafinad\/documentation\/Rafinad\/DisableableAccessibility","doc:\/\/ru.hh.Rafinad\/documentation\/Rafinad\/EditableAccessibility","doc:\/\/ru.hh.Rafinad\/documentation\/Rafinad\/SelectableAccessibility","doc:\/\/ru.hh.Rafinad\/documentation\/Rafinad\/SwipeableAccessibility","doc:\/\/ru.hh.Rafinad\/documentation\/Rafinad\/RotatableAccessibility","doc:\/\/ru.hh.Rafinad\/documentation\/Rafinad\/PinchableAccessibility","doc:\/\/ru.hh.Rafinad\/documentation\/Rafinad\/AccessibilityKey"],"generated":true}],"primaryContentSections":[{"kind":"declarations","declarations":[{"tokens":[{"text":"class","kind":"keyword"},{"text":" ","kind":"text"},{"text":"ScreenAccessibility","kind":"identifier"}],"platforms":["iOS"],"languages":["swift"]}]},{"content":[{"level":2,"type":"heading","anchor":"overview","text":"Overview"},{"inlineContent":[{"code":"ScreenAccessibility","type":"codeVoice"},{"text":" используется в качестве базового класса вместо ","type":"text"},{"isActive":true,"identifier":"doc:\/\/ru.hh.Rafinad\/documentation\/Rafinad\/ViewAccessibility","type":"reference"},{"text":" ","type":"text"},{"text":"в случае объявления accessibility-схемы экрана.","type":"text"}],"type":"paragraph"},{"inlineContent":[{"type":"text","text":"Тесты используют accessibility-схему экрана для создания экземпляра "},{"type":"reference","identifier":"doc:\/\/ru.hh.Rafinad\/documentation\/Rafinad\/TestingElement","isActive":true},{"type":"text","text":","},{"type":"text","text":" "},{"type":"text","text":"оборачивая корневой объект "},{"type":"codeVoice","code":"XCUIElement"},{"type":"text","text":", например, объект "},{"type":"codeVoice","code":"XCUIApplication"},{"type":"text","text":" тестируемого приложения."}],"type":"paragraph"},{"level":2,"type":"heading","anchor":"%D0%9F%D1%80%D0%B8%D0%BC%D0%B8%D1%82%D0%B8%D0%B2%D0%BD%D1%8B%D0%B5-%D1%8D%D0%BA%D1%80%D0%B0%D0%BD%D1%8B","text":"Примитивные экраны"},{"inlineContent":[{"text":"В самом простейшем случае accessibility-схема экрана представляет из себя “плоский” класс,","type":"text"},{"text":" ","type":"text"},{"text":"наследующий базовый ","type":"text"},{"code":"ScreenAccessibility","type":"codeVoice"},{"text":". Каждое свойство в этом классе представляет компонент,","type":"text"},{"text":" ","type":"text"},{"text":"который отображается на экране и интересен в тестах, например:","type":"text"}],"type":"paragraph"},{"type":"codeListing","syntax":"swift","code":["\/\/ Простейший экран, который отображает информацию пользователя","struct UserView: View {","","    let user: User","","    var body: some View {","        VStack(spacing: .zero) {","            Text(user.fullName)","                .font(.largeTitle)","                \/\/ Установка ключа для имени пользователя","                .accessibilityKey(\\UserAccessibility.name)","","            Text(user.position)","                .font(.subheadline)","                .foregroundStyle(.secondary)","                \/\/ Установка ключа для должности пользователя","                .accessibilityKey(\\UserAccessibility.position)","                .padding(.top, 4)","        }","        .padding(16)","    }","}","","\/\/ Простейшая accessibility-схема экрана пользователя","class UserAccessibility: ScreenAccessibility {","","    let name = TextAccessibility()","    let position = TextAccessibility()","}"]},{"inlineContent":[{"type":"text","text":"Этот пример демонстрирует простейшую схему экрана, который состоит из 2 элементов."},{"type":"text","text":" "},{"type":"text","text":"Для всех этих элементов устанавливаются accessibility-ключи из схемы, и они получат идентификаторы,"},{"type":"text","text":" "},{"type":"text","text":"содержащие префикс "},{"code":"UserAccessibility","type":"codeVoice"},{"type":"text","text":", следовательно будут ассоциированы с этим экраном в иерархии."}],"type":"paragraph"},{"level":2,"type":"heading","anchor":"%D0%9A%D0%BE%D1%80%D0%BD%D0%B5%D0%B2%D0%BE%D0%B9-%D0%BA%D0%BE%D0%BD%D1%82%D0%B5%D0%BD%D1%82-%D1%8D%D0%BA%D1%80%D0%B0%D0%BD%D0%B0","text":"Корневой контент экрана"},{"inlineContent":[{"type":"text","text":"Кроме составляющих компонентов экрана, в тестах может быть интересен его корневой контент,"},{"type":"text","text":" "},{"type":"text","text":"например, для ожидания появления самого экрана. В этом случае можно добавить вложенный класс,"},{"type":"text","text":" "},{"type":"text","text":"наследующий базовый "},{"isActive":true,"type":"reference","identifier":"doc:\/\/ru.hh.Rafinad\/documentation\/Rafinad\/ViewAccessibility"},{"type":"text","text":", и объявить в нем внутренние компоненты основного контента."},{"type":"text","text":" "},{"type":"text","text":"Тогда останется добавить свойство с типом этого класса в accessibility-схему самого экрана"},{"type":"text","text":" "},{"type":"text","text":"и установить accessibility-ключ для него, например:"}],"type":"paragraph"},{"type":"codeListing","syntax":"swift","code":["\/\/ Экран пользователя, корневой контент которого нужен в тестах","struct UserView: View {","","    let user: User","","    var body: some View {","        ScrollView {","            VStack(spacing: .zero) {","                Text(user.fullName)","                    .font(.largeTitle)","                    \/\/ Установка ключа для имени пользователя","                    .accessibilityKey(\\UserAccessibility.content.name)","","                Text(user.position)","                    .font(.subheadline)","                    .foregroundStyle(.secondary)","                    \/\/ Установка ключа для должности пользователя","                    .accessibilityKey(\\UserAccessibility.content.position)","                    .padding(.top, 4)","            }","            .padding(16)","        }","        \/\/ Установка ключа для корневого контента экрана","        .accessibilityKey(\\UserAccessibility.content)","    }","}","","\/\/ Accessibility-схема экрана с вложенным классом для корневого контента","class UserAccessibility: ScreenAccessibility {","","    class Content: ViewAccessibility, SwipeableAccessibility {","        let name = TextAccessibility()","        let position = TextAccessibility()","    }","","    let content = Content()","}"]},{"inlineContent":[{"type":"text","text":"Этот пример также демонстрирует использование протокола "},{"isActive":true,"type":"reference","identifier":"doc:\/\/ru.hh.Rafinad\/documentation\/Rafinad\/SwipeableAccessibility"},{"type":"text","text":" "},{"type":"text","text":"во вложенной схеме корневого контента, который наделяет его возможностью выполнять жесты свайпа в тестах."}],"type":"paragraph"},{"level":2,"type":"heading","anchor":"%D0%9F%D0%B0%D0%BD%D0%B5%D0%BB%D1%8C-%D0%BD%D0%B0%D0%B2%D0%B8%D0%B3%D0%B0%D1%86%D0%B8%D0%B8-%D1%8D%D0%BA%D1%80%D0%B0%D0%BD%D0%B0","text":"Панель навигации экрана"},{"inlineContent":[{"type":"text","text":"На самом деле панель навигации не является частью экрана и в иерархии находится в самом стеке экранов."},{"type":"text","text":" "},{"type":"text","text":"Тем не менее в тестах удобнее обрабатывать его именно в контексте самого экрана,"},{"type":"text","text":" "},{"type":"text","text":"поэтому его элементы также можно объявить в accessibility-схеме, но они должны располагаться отдельно,"},{"type":"text","text":" "},{"type":"text","text":"либо самостоятельно в корне, либо в отдельном вложенном классе, например:"}],"type":"paragraph"},{"type":"codeListing","syntax":"swift","code":["\/\/ Экран пользователя с заголовком и подзаголовком в панели навигации","struct UserView: View {","","    let user: User","","    var body: some View {","        ScrollView {","            VStack(spacing: .zero) {","                Text(user.fullName)","                    .font(.largeTitle)","                    \/\/ Установка ключа для имени пользователя","                    .accessibilityKey(\\UserAccessibility.content.name)","","                Text(user.position)","                    .font(.subheadline)","                    .foregroundStyle(.secondary)","                    \/\/ Установка ключа для должности пользователя","                    .accessibilityKey(\\UserAccessibility.content.position)","                    .padding(.top, 4)","            }","            .padding(16)","        }","        \/\/ Установка ключа для корневого контента экрана","        .accessibilityKey(\\UserAccessibility.content)","        .toolbar {","            ToolbarItem(placement: .principal) {","                VStack(spacing: .zero) {","                    Text(\"User\")","                        .font(.headline)","                        \/\/ Установка ключа для заголовка в панели навигации","                        .accessibilityKey(\\UserAccessibility.navigationBar.title)","","                    Text(\"Details\")","                        .font(.subheadline)","                        .foregroundStyle(.secondary)","                        \/\/ Установка ключа для подзаголовка в панели навигации","                        .accessibilityKey(\\UserAccessibility.navigationBar.subtitle)","                }","            }","        }","    }","}","","\/\/ Accessibility-схема экрана с заголовком и подзаголовком в панели навигации","class UserAccessibility: ScreenAccessibility {","","    \/\/ Без наследования ViewAccessibility","    class NavigationBar {","        let title = TextAccessibility()","        let subtitle = TextAccessibility()","    }","","    class Content: ViewAccessibility, SwipeableAccessibility {","        let name = TextAccessibility()","        let position = TextAccessibility()","    }","","    let navigationBar = NavigationBar()","    let content = Content()","}"]},{"inlineContent":[{"text":"Вложенный класс ","type":"text"},{"type":"codeVoice","code":"NavigationBar"},{"text":" в этом примере не наследует ","type":"text"},{"isActive":true,"type":"reference","identifier":"doc:\/\/ru.hh.Rafinad\/documentation\/Rafinad\/ViewAccessibility"},{"text":",","type":"text"},{"text":" ","type":"text"},{"text":"иначе для его поля ","type":"text"},{"type":"codeVoice","code":"navigationBar"},{"text":" пришлось бы отдельно устанавливать accessibility-ключ,","type":"text"},{"text":" ","type":"text"},{"text":"а SwiftUI не поддерживает идентификацию самой панели навигации.","type":"text"}],"type":"paragraph"}],"kind":"content"}],"variants":[{"traits":[{"interfaceLanguage":"swift"}],"paths":["\/documentation\/rafinad\/screenaccessibility"]}],"references":{"doc://ru.hh.Rafinad/documentation/Rafinad/AccessibilityKey":{"url":"\/documentation\/rafinad\/accessibilitykey","type":"topic","abstract":[{"text":"Accessibility-ключ UI-компонента для его поиска в тестах.","type":"text"}],"title":"AccessibilityKey","kind":"symbol","identifier":"doc:\/\/ru.hh.Rafinad\/documentation\/Rafinad\/AccessibilityKey","role":"symbol","fragments":[{"text":"struct","kind":"keyword"},{"text":" ","kind":"text"},{"text":"AccessibilityKey","kind":"identifier"}],"navigatorTitle":[{"text":"AccessibilityKey","kind":"identifier"}]},"doc://ru.hh.Rafinad/documentation/Rafinad/RotatableAccessibility":{"fragments":[{"kind":"keyword","text":"protocol"},{"kind":"text","text":" "},{"kind":"identifier","text":"RotatableAccessibility"}],"url":"\/documentation\/rafinad\/rotatableaccessibility","navigatorTitle":[{"kind":"identifier","text":"RotatableAccessibility"}],"type":"topic","kind":"symbol","identifier":"doc:\/\/ru.hh.Rafinad\/documentation\/Rafinad\/RotatableAccessibility","title":"RotatableAccessibility","role":"symbol","abstract":[{"type":"text","text":"Протокол для accessibility-схемы, наделяющий UI-компоненты возможностью"},{"type":"text","text":" "},{"type":"text","text":"выполнять жесты поворота двумя касаниями в тестах."}]},"doc://ru.hh.Rafinad/documentation/Rafinad/ViewAccessibility":{"navigatorTitle":[{"text":"ViewAccessibility","kind":"identifier"}],"title":"ViewAccessibility","type":"topic","identifier":"doc:\/\/ru.hh.Rafinad\/documentation\/Rafinad\/ViewAccessibility","abstract":[{"type":"text","text":"Базовая accessibility-схема для всех UI-компонентов."}],"url":"\/documentation\/rafinad\/viewaccessibility","role":"symbol","kind":"symbol","fragments":[{"text":"class","kind":"keyword"},{"text":" ","kind":"text"},{"text":"ViewAccessibility","kind":"identifier"}]},"doc://ru.hh.Rafinad/documentation/Rafinad/TextAccessibility":{"abstract":[{"text":"Accessibility-схема стандартного текстового UI-компонента.","type":"text"}],"kind":"symbol","identifier":"doc:\/\/ru.hh.Rafinad\/documentation\/Rafinad\/TextAccessibility","role":"symbol","navigatorTitle":[{"text":"TextAccessibility","kind":"identifier"}],"title":"TextAccessibility","type":"topic","url":"\/documentation\/rafinad\/textaccessibility","fragments":[{"text":"class","kind":"keyword"},{"text":" ","kind":"text"},{"text":"TextAccessibility","kind":"identifier"}]},"doc://ru.hh.Rafinad/documentation/Rafinad/ImageAccessibility":{"fragments":[{"text":"class","kind":"keyword"},{"text":" ","kind":"text"},{"text":"ImageAccessibility","kind":"identifier"}],"navigatorTitle":[{"text":"ImageAccessibility","kind":"identifier"}],"abstract":[{"text":"Accessibility-схема стандартного UI-компонента изображений.","type":"text"}],"title":"ImageAccessibility","url":"\/documentation\/rafinad\/imageaccessibility","identifier":"doc:\/\/ru.hh.Rafinad\/documentation\/Rafinad\/ImageAccessibility","kind":"symbol","type":"topic","role":"symbol"},"doc://ru.hh.Rafinad/documentation/Rafinad/SwipeableAccessibility":{"url":"\/documentation\/rafinad\/swipeableaccessibility","fragments":[{"text":"protocol","kind":"keyword"},{"text":" ","kind":"text"},{"text":"SwipeableAccessibility","kind":"identifier"}],"kind":"symbol","type":"topic","abstract":[{"text":"Протокол для accessibility-схемы, наделяющий UI-компоненты возможностью","type":"text"},{"text":" ","type":"text"},{"text":"выполнять жесты свайпа в тестах.","type":"text"}],"title":"SwipeableAccessibility","role":"symbol","identifier":"doc:\/\/ru.hh.Rafinad\/documentation\/Rafinad\/SwipeableAccessibility","navigatorTitle":[{"text":"SwipeableAccessibility","kind":"identifier"}]},"doc://ru.hh.Rafinad/documentation/Rafinad":{"kind":"symbol","type":"topic","title":"Rafinad","role":"collection","abstract":[{"text":"Удобный и компилируемый синтаксис для UI-тестирования iOS и tvOS приложений,","type":"text"},{"text":" ","type":"text"},{"text":"совместимый со SwiftUI и UIKit.","type":"text"}],"url":"\/documentation\/rafinad","identifier":"doc:\/\/ru.hh.Rafinad\/documentation\/Rafinad"},"doc://ru.hh.Rafinad/documentation/Rafinad/PinchableAccessibility":{"navigatorTitle":[{"kind":"identifier","text":"PinchableAccessibility"}],"title":"PinchableAccessibility","kind":"symbol","abstract":[{"text":"Протокол для accessibility-схемы, наделяющий UI-компоненты возможностью","type":"text"},{"text":" ","type":"text"},{"text":"выполнять жесты масштабирования двумя касаниями в тестах.","type":"text"}],"type":"topic","identifier":"doc:\/\/ru.hh.Rafinad\/documentation\/Rafinad\/PinchableAccessibility","url":"\/documentation\/rafinad\/pinchableaccessibility","fragments":[{"kind":"keyword","text":"protocol"},{"kind":"text","text":" "},{"kind":"identifier","text":"PinchableAccessibility"}],"role":"symbol"},"doc://ru.hh.Rafinad/documentation/Rafinad/EditableAccessibility":{"identifier":"doc:\/\/ru.hh.Rafinad\/documentation\/Rafinad\/EditableAccessibility","abstract":[{"text":"Протокол для accessibility-схемы, наделяющий UI-компоненты возможностью","type":"text"},{"text":" ","type":"text"},{"text":"редактирования текста в тестах.","type":"text"}],"navigatorTitle":[{"kind":"identifier","text":"EditableAccessibility"}],"title":"EditableAccessibility","type":"topic","fragments":[{"kind":"keyword","text":"protocol"},{"kind":"text","text":" "},{"kind":"identifier","text":"EditableAccessibility"}],"role":"symbol","kind":"symbol","url":"\/documentation\/rafinad\/editableaccessibility"},"doc://ru.hh.Rafinad/documentation/Rafinad/TestingElement":{"kind":"symbol","abstract":[{"type":"text","text":"Тестируемое представление UI-компонента или экрана."}],"fragments":[{"text":"struct","kind":"keyword"},{"text":" ","kind":"text"},{"text":"TestingElement","kind":"identifier"}],"type":"topic","url":"\/documentation\/rafinad\/testingelement","title":"TestingElement","navigatorTitle":[{"text":"TestingElement","kind":"identifier"}],"identifier":"doc:\/\/ru.hh.Rafinad\/documentation\/Rafinad\/TestingElement","role":"symbol"},"doc://ru.hh.Rafinad/documentation/Rafinad/DisableableAccessibility":{"fragments":[{"text":"protocol","kind":"keyword"},{"text":" ","kind":"text"},{"text":"DisableableAccessibility","kind":"identifier"}],"type":"topic","role":"symbol","navigatorTitle":[{"text":"DisableableAccessibility","kind":"identifier"}],"url":"\/documentation\/rafinad\/disableableaccessibility","kind":"symbol","title":"DisableableAccessibility","abstract":[{"type":"text","text":"Протокол для accessibility-схемы, наделяющий UI-компоненты возможностью"},{"type":"text","text":" "},{"type":"text","text":"обрабатывать отключенное состояние в тестах."}],"identifier":"doc:\/\/ru.hh.Rafinad\/documentation\/Rafinad\/DisableableAccessibility"},"doc://ru.hh.Rafinad/documentation/Rafinad/ScreenAccessibility":{"type":"topic","kind":"symbol","navigatorTitle":[{"kind":"identifier","text":"ScreenAccessibility"}],"title":"ScreenAccessibility","identifier":"doc:\/\/ru.hh.Rafinad\/documentation\/Rafinad\/ScreenAccessibility","url":"\/documentation\/rafinad\/screenaccessibility","abstract":[{"type":"text","text":"Accessibility-схема экрана."}],"role":"symbol","fragments":[{"kind":"keyword","text":"class"},{"kind":"text","text":" "},{"kind":"identifier","text":"ScreenAccessibility"}]},"doc://ru.hh.Rafinad/documentation/Rafinad/ScreenAccessibility/init()":{"kind":"symbol","role":"symbol","abstract":[{"type":"text","text":"Создает экземпляр accessibility-схемы."}],"title":"init()","type":"topic","url":"\/documentation\/rafinad\/screenaccessibility\/init()","fragments":[{"text":"init","kind":"identifier"},{"text":"()","kind":"text"}],"identifier":"doc:\/\/ru.hh.Rafinad\/documentation\/Rafinad\/ScreenAccessibility\/init()"},"doc://ru.hh.Rafinad/documentation/Rafinad/AnyAccessibility":{"url":"\/documentation\/rafinad\/anyaccessibility","role":"symbol","navigatorTitle":[{"kind":"identifier","text":"AnyAccessibility"}],"identifier":"doc:\/\/ru.hh.Rafinad\/documentation\/Rafinad\/AnyAccessibility","title":"AnyAccessibility","abstract":[{"text":"Accessibility-схема UI-компонента с неизвестным типом.","type":"text"}],"fragments":[{"kind":"keyword","text":"class"},{"kind":"text","text":" "},{"kind":"identifier","text":"AnyAccessibility"}],"kind":"symbol","type":"topic"},"doc://ru.hh.Rafinad/documentation/Rafinad/SelectableAccessibility":{"fragments":[{"kind":"keyword","text":"protocol"},{"kind":"text","text":" "},{"kind":"identifier","text":"SelectableAccessibility"}],"type":"topic","title":"SelectableAccessibility","navigatorTitle":[{"kind":"identifier","text":"SelectableAccessibility"}],"url":"\/documentation\/rafinad\/selectableaccessibility","kind":"symbol","role":"symbol","abstract":[{"type":"text","text":"Протокол для accessibility-схемы, наделяющий UI-компоненты возможностью"},{"type":"text","text":" "},{"type":"text","text":"обрабатывать выбранное состояние в тестах."}],"identifier":"doc:\/\/ru.hh.Rafinad\/documentation\/Rafinad\/SelectableAccessibility"}}}